<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Report Web Vitals – Complete Guide</title>
  <style>
    body { font-family: 'Segoe UI', system-ui, sans-serif; max-width: 720px; margin: 2rem auto; padding: 0 1.5rem; line-height: 1.6; color: #1a1a1a; }
    h1 { font-size: 1.75rem; border-bottom: 2px solid #0d6efd; padding-bottom: 0.5rem; }
    h2 { font-size: 1.25rem; margin-top: 1.5rem; color: #0d6efd; }
    h3 { font-size: 1.05rem; margin-top: 1rem; }
    code, pre { background: #f5f5f5; padding: 0.2em 0.4em; border-radius: 4px; font-size: 0.9em; }
    pre { padding: 1rem; overflow-x: auto; }
    pre code { padding: 0; background: none; }
    ul { margin: 0.5rem 0; }
    hr { border: none; border-top: 1px solid #ddd; margin: 2rem 0; }
    .meta { font-size: 0.85rem; color: #666; margin-top: 2rem; }
  </style>
</head>
<body>
  <h1>Report Web Vitals – Complete Guide</h1>

  <h2>Big Picture: What is <code>reportWebVitals</code>?</h2>
  <ul>
    <li><strong>reportWebVitals</strong> is a helper function that comes with Create React App (CRA) templates.</li>
    <li>Its <strong>only job</strong> is to measure how well your app performs in the browser (performance metrics called <strong>Web Vitals</strong>).</li>
    <li>It is <strong>optional</strong> – your app works fine even if you remove it.</li>
  </ul>
  <p>In <code>src/index.js</code> you have:</p>
  <pre><code>import reportWebVitals from './reportWebVitals';
reportWebVitals();</code></pre>
  <p>The <strong>import</strong> brings the function into this file; the <strong>call</strong> at the bottom runs it. By default, with no arguments, it doesn’t do anything visible until you pass a callback.</p>

  <h2>Step 1: What is a “Web Vital”?</h2>
  <p>When a user opens your website, they care about: how fast content appears, how quickly it reacts to clicks/typing, and whether the layout jumps. Google defined important metrics called <strong>Web Vitals</strong>.</p>

  <h3>LCP (Largest Contentful Paint)</h3>
  <p><strong>What:</strong> How long until the main content (big image, heading, text block) appears.<br><strong>Why:</strong> If LCP is slow, the page feels slow.</p>

  <h3>FID / INP (First Input Delay / Interaction to Next Paint)</h3>
  <p><strong>What:</strong> Time between the user’s first interaction and your app responding.<br><strong>Why:</strong> High values mean clicks feel laggy.</p>

  <h3>CLS (Cumulative Layout Shift)</h3>
  <p><strong>What:</strong> How much the layout “jumps” while loading.<br><strong>Why:</strong> Bad CLS leads to mis-clicks and annoyance.</p>

  <p>There are more (FCP, TTFB, etc.). Together they tell you if your app is <strong>fast and smooth</strong>.</p>

  <h2>Step 2: Where Does reportWebVitals Live?</h2>
  <p>In a CRA app you have something like:</p>
  <pre><code>src/
  index.js
  reportWebVitals.js
  App.js
  ...</code></pre>
  <p>The <strong>reportWebVitals.js</strong> file (created by CRA) typically looks like this:</p>
  <pre><code>const reportWebVitals = onPerfEntry => {
  if (onPerfEntry && onPerfEntry instanceof Function) {
    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {
      getCLS(onPerfEntry);
      getFID(onPerfEntry);
      getFCP(onPerfEntry);
      getLCP(onPerfEntry);
      getTTFB(onPerfEntry);
    });
  }
};

export default reportWebVitals;</code></pre>
  <p><strong>What this does:</strong></p>
  <ul>
    <li><strong>onPerfEntry</strong> – A callback function <em>you</em> can pass in (e.g. <code>console.log</code> or send to analytics).</li>
    <li><strong>import('web-vitals')</strong> – Dynamically loads the <code>web-vitals</code> library when needed.</li>
    <li><strong>getCLS, getFID, getFCP, getLCP, getTTFB</strong> – Functions from that library that measure each metric.</li>
    <li>Each of these is called with your callback. When a metric is ready, the library calls your callback with a <strong>result object</strong>.</li>
  </ul>
  <p>So <strong>reportWebVitals</strong> is a thin wrapper that connects your app to the <code>web-vitals</code> library.</p>

  <h2>Step 3: How Your index.js Uses It</h2>
  <p>Your <code>index.js</code> has:</p>
  <pre><code>reportWebVitals();</code></pre>
  <p>So you’re calling it <strong>with no arguments</strong>. That means <code>onPerfEntry</code> is <code>undefined</code>. Inside <code>reportWebVitals</code>, the condition:</p>
  <pre><code>if (onPerfEntry && onPerfEntry instanceof Function)</code></pre>
  <p>is false, so <strong>nothing runs</strong> – no measurement, no logging. The comment in the file says: <em>“If you want to start measuring performance… pass a function.”</em></p>

  <h2>Step 4: How to Actually See the Metrics</h2>
  <p>To start <strong>logging</strong> performance to the console, change the last line to:</p>
  <pre><code>reportWebVitals(console.log);</code></pre>
  <p>Now:</p>
  <ul>
    <li><code>onPerfEntry</code> is <code>console.log</code>.</li>
    <li>The <code>web-vitals</code> functions run and, when each metric is ready, they call <code>onPerfEntry(metric)</code>.</li>
    <li>So you’ll see <strong>metric objects</strong> in the browser console, e.g.:</li>
  </ul>
  <pre><code>{
  name: "CLS",
  value: 0.01,
  id: "v2-1234567890-1",
  delta: 0.01,
  entries: [...],
  rating: "good"
}</code></pre>
  <p>You can then use them for <strong>debugging</strong> or <strong>send them to your own analytics</strong> (e.g. POST to your server):</p>
  <pre><code>function sendToAnalytics(metric) {
  fetch('/analytics', {
    method: 'POST',
    body: JSON.stringify(metric),
  });
}
reportWebVitals(sendToAnalytics);</code></pre>

  <h2>Step 5: Do You Need It?</h2>
  <p><strong>No.</strong> It’s optional. You can leave it as is, use it for tuning, wire it to analytics, or remove the import and the call (and optionally delete <code>reportWebVitals.js</code>) for a minimal setup.</p>

  <h2>Step 6: Why CRA Added This</h2>
  <p>Google pushes Web Vitals for user experience and SEO. CRA includes a simple function and a comment on how to use it, plus a link: <a href="https://bit.ly/CRA-vitals">https://bit.ly/CRA-vitals</a>.</p>

  <h2>Step 7: Summary</h2>
  <p><strong>reportWebVitals</strong> is an optional helper that, when you pass it a function, reports your app’s Web Vitals (LCP, FID, CLS, etc.) to that function so you can log them or send them to analytics.</p>

  <p class="meta">Generated for the Namaste YouTube (Create React App) project.</p>
</body>
</html>
